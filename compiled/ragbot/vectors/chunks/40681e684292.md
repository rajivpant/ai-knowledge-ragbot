ed/]"
```

---

## MAIN REVIEW PROMPT

You are conducting a codebase review using the Enterprise-Grade Codebase Review Runbook. 

**Project Tier: [INSERT TIER]**

Review ONLY the sections marked for this tier or lower:
- Tier 1 (ğŸŸ¢): Review only ğŸŸ¢ items
- Tier 2 (ğŸ”µ): Review ğŸŸ¢ and ğŸ”µ items
- Tier 3 (ğŸŸ£): Review ğŸŸ¢, ğŸ”µ, and ğŸŸ£ items
- Tier 4 (âš«): Review all items

For each finding, document:
1. Specific file paths and line numbers
2. Severity (Critical/High/Medium/Low)
3. Concrete remediation steps

---

## 1. ARCHITECTURE & SYSTEM DESIGN

### 1.1 Architectural Foundation

- [ ] ğŸŸ¢ **Code Organization**: Is there a logical folder/module structure?
- [ ] ğŸŸ¢ **Separation of Concerns**: Is business logic separated from I/O and presentation?
- [ ] ğŸ”µ **Pattern Identification**: What architectural pattern is implemented (MVC, microservices, modular monolith, etc.)?
- [ ] ğŸ”µ **Pattern Appropriateness**: Is the chosen architecture suitable for the scale and team size?
- [ ] ğŸŸ£ **Architecture Documentation**: Is there an Architecture Decision Record (ADR)?
- [ ] ğŸŸ£ **Dependency Graph**: Are there circular dependencies between modules/services?
- [ ] ğŸŸ£ **Domain Boundaries**: Are bounded contexts clearly defined?
- [ ] âš« **Layer Separation**: Is there strict separation between layers with enforced boundaries?

### 1.2 API Design & Contracts

- [ ] ğŸŸ¢ **Consistent Endpoints**: Are API endpoints named consistently?
- [ ] ğŸ”µ **API Documentation**: Is there basic API documentation (README, comments, or OpenAPI)?
- [ ] ğŸ”µ **Error Format Consistency**: Are error responses formatted consistently?
- [ ] ğŸŸ£ **API Versioning**: Are APIs versioned?
- [ ] ğŸŸ£ **Contract Documentation**: Is there OpenAPI/Swagger or GraphQL schema?
- [ ] ğŸŸ£ **Deprecation Strategy**: Is there a documented process for deprecating APIs?
- [ ] âš« **API Gateway**: Is there proper gateway implementation with routing, auth, rate limiting?
- [ ] âš« **Contract Testing**: Are API contracts tested for backward compatibility?

### 1.3 Service Communication (Tier 3+)

- [ ] ğŸŸ£ **Sync vs Async**: Are synchronous and asynchronous patterns used appropriately?
- [ ] ğŸŸ£ **Timeout Configuration**: Are timeouts configured for all network calls?
- [ ] ğŸŸ£ **Resilience Patterns**: Are circuit breakers and retries implemented?
- [ ] âš« **Message Contracts**: For event-driven systems, are message schemas versioned?
- [ ] âš« **Service Discovery**: How do services find each other? Is it robust?
- [ ] âš« **Data Consistency**: How is eventual consistency handled across services?

### 1.4 Data Architecture

- [ ] ğŸŸ¢ **Data Store Exists**: Is there a proper database (not just files)?
- [ ] ğŸ”µ **Schema Design**: Is the database schema reasonably normalized?
- [ ] ğŸ”µ **Indexes Present**: Are there indexes on frequently queried columns?
- [ ] ğŸŸ£ **Data Store Selection**: Are the right databases used for the right purposes?
- [ ] ğŸŸ£ **Caching Strategy**: Is there a caching strategy?
- [ ] âš« **Data Flow Documentation**: Is data flow through the system documented?

---

## 2. SECRETS, CREDENTIALS & SENSITIVE DATA

> **ğŸ”´ This section is CRITICAL for all tiers.** Secrets in code are one of the most common and dangerous vulnerabilities.

### 2.1 Active Secret Scanning ğŸŸ¢

- [ ] ğŸŸ¢ **No Hardcoded Secrets**: Search for passwords, API keys, tokens in code
- [ ] ğŸŸ¢ **Environment Files Not Committed**: `.env` files are in `.gitignore`
- [ ] ğŸ”µ **Secret Scanner Run**: Run tools like `truffleHog`, `gitleaks`, or `detect-secrets`
- [ ] ğŸŸ£ **Git History Clean**: No secrets in git history (even if removed from current code)
- [ ] ğŸŸ£ **CI/CD Configs Clean**: No secrets in workflow files, Dockerfiles, or IaC

### 2.2 Secret Types to Search For ğŸŸ¢

- [ ] ğŸŸ¢ Passwords and passphrases
- [ ] ğŸŸ¢ API keys (AWS, GCP, Stripe, etc.)
- [ ] ğŸŸ¢ Database connection strings with credentials
- [ ] ğŸ”µ Private keys (RSA, SSH, PGP)
- [ ] ğŸ”µ OAuth client secrets
- [ ] ğŸ”µ JWT signing secrets
- [ ] ğŸŸ£ Encryption keys and salts
- [ ] ğŸŸ£ Webhook secrets
- [ ] ğŸŸ£ Service account credentials